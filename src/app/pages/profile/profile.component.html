<shared-header></shared-header>

<div class="page page-profile">
  <form action="" [formGroup]="form" (ngSubmit)="onSubmit()">
    <h1>Profile</h1>

    <label
      class="form-group"
      [class.active]="form.value.name"
      [class.error]="!form.controls.name.valid && form.controls.name.touched"
    >
      <input type="text" formControlName="name" />
      <small>Name</small>
      <span class="form-error">Your name is required.</span>
    </label>
    <label
      class="form-group"
      [class.active]="form.value.email"
      [class.error]="!form.controls.email.valid && form.controls.email.touched"
    >
      <input type="text" formControlName="email" />
      <small>Email or phone number</small>
      <span class="form-error">
        Please enter a valid email or phone number.
      </span>
    </label>
    <div
      class="form-group"
      [class.active]="form.value.country"
      [class.error]="
        !form.controls.country.valid && form.controls.country.touched
      "
    >
      <label class="select">
        <select formControlName="country">
          <option *ngFor="let country of countries" [value]="country.id">
            {{ country.name }}
          </option>
        </select>
      </label>
      <small>Country</small>
      <span class="form-error">
        Please select a country.
      </span>
    </div>
    <div
      class="form-group"
      [class.active]="form.value.password"
      [class.error]="
        !form.controls.password.valid && form.controls.password.touched
      "
    >
      <label>
        <input
          type="{{ showPassword ? 'text' : 'password' }}"
          formControlName="password"
        />
        <small>Senha</small>
        <span class="form-error">Your password is required.</span>
      </label>
      <button
        (click)="showPass($event)"
        type="button"
        *ngIf="form.value.password"
      >
        {{ showPassword ? "HIDE" : "SHOW" }}
      </button>
    </div>

    <label class="form-image">
      <input
        type="file"
        (change)="onUploadChange($event)"
        accept=".png, .jpg, .jpeg, .pdf"
      />
      <img [src]="base64textString" alt="" id="img" />
      <span>
        <svg viewBox="0 0 512 512">
          <path
            fill="currentColor"
            d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"
          ></path>
        </svg>
      </span>
    </label>
    <button class="form-btn cancel" (click)="cancel($event)">CANCEL</button>
    <button class="form-btn" type="submit">
      SAVE
    </button>
    <span class="form-error" *ngIf="error">{{ error }}</span>
  </form>
</div>
<shared-footer></shared-footer>
